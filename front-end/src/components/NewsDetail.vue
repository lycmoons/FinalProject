<script setup>
import {useRoute} from "vue-router";
import {computed, onMounted, reactive} from "vue";
import logo from '@/assets/logo.png'
import {Clock} from "@element-plus/icons-vue";
import {marked} from "marked";

const route = useRoute()
const form = reactive({
  article: {
    id: route.params.id,
    photo_url: '',
    title: '',
    time: '',
    content: '',
  }
})

const relContent = computed(() => form.article.content.replace(/######/g, '<br/><br/>'))

function getArticleDetail() {
  form.article.photo_url = 'https://stwebapp001sh.blob.core.chinacloudapi.cn/news/images/20160530190130735.jpg'
  form.article.title = '上交所：进一步支持发行科技创新债券服务新质生产力'
  form.article.time = '3 hours ago'
  form.article.content = '    5月7日电，上海证券交易所现将进一步支持发行科技创新债券有关事项通知如下。######    一、进一步拓宽发行主体和募集资金使用范围，扩大科技金融服务覆盖面######    (一)新增支持金融机构发行科技创新债券。在继续支持科创企业类、科创升级类、科创投资类和科创孵化类发行人发行科技创新债券的基础上，新增支持商业银行、证券公司、金融资产投资公司等金融机构发行科技创新债券，发挥投融资服务专业优势，依法运用募集资金通过贷款，股权、债券、基金投资，资本中介服务等多种途径，专项支持科技创新领域业务。######    (二)新增支持股权投资机构募集资金用于私募股权投资基金。支持具有丰富投资经验、出色管理业绩、优秀管理团队的私募股权投资机构和创业投资机构发行科技创新债券，募集资金用于私募股权投资基金的设立、扩募等。######    二、进一步简化信息披露安排，提升信息披露针对性和有效性######    (三)简化科技创新债券信息披露安排。科技创新债券发行人可以按照本所业务规则的规定适用简明信息披露安排，简化申报发行材料和信息披露，发行人可与投资者约定豁免相关披露信息。资产负债率不高于同行业平均水平、具有行业领先地位的科技型企业发行人可以申请适当延长年度、半年度财务报告有效期，年度财务报告有效期最多延长至当年8月末，半年度财务报告有效期最多延长至次年4月末；最近一期不存在重大不利变化的，可以列表形式简要披露半年度财务报表主要资产负债科目变动情况及变动原因。######    (四)简化申报材料签章文件。支持科技创新债券发行人董事、监事、高级管理人员在债券项目申请阶段按照规定对债券发行文件签署书面确认意见，并承诺认可各期发行文件、履行规定职责的，每期债券发行前无需另行签署书面确认意见。审计机构已对发行人前期募集说明书中引用的审计报告内容出具过声明页，确认募集说明书与审计报告不存在矛盾，并经主承销商核查本期债券发行文件引用的审计报告内容与前期一致的，每期债券发行前审计机构无需再次签署相关声明。######    三、进一步完善配套支持机制，打造一二级联动、投融资协同的良好市场生态######    (五)健全科技创新债券融资审核“绿色通道”机制。发行人申报和发行科技创新债券适用“即报即审”的“绿色通道”机制。突破关键核心技术的科技型企业可以参照适用知名成熟发行人优化审核安排，提升科技创新债券审核注册效率，对不存在需重点关注的负面情形的，本所审核时限原则上不超过10个工作日。######    (六)鼓励发行人创新设计债券条款。鼓励发行人对发行方式、期限结构、利率确定和计算方式、还本付息方式、赎回或转换选择权、增信方式等方面进行创新。支持发行人设置预期收益质押担保、知识产权质押担保、可转换为股权、票面利率与科创企业成长或募投项目收益挂钩、以募投项目收益现金流为主要偿债来源等创新条款。######    (七)优化科技创新债券做市等交易机制安排。支持科技创新债券质押融资，质押折扣系数可以在债券各档位对应折扣系数取值基础上适当上浮，并适度降低科技创新债券纳入基准做市券门槛。鼓励证券公司为科技创新债券提供承销与做市报价联动服务，本所将证券公司开展科技创新债券承销、做市业务情况纳入证券公司年度评价、参与创新业务或产品试点的考虑因素。######    (八)引导投资机构加大对科技创新债券投入。支持银行理财、券商资管创设投资于科技创新债券或挂钩科创相关指数的专项资管产品。推动公募基金管理公司创设科技创新债券类ETF，支持科技创新债券类ETF通过质押、做市等机制提升流动性。支持社保基金、企业年金等中长期资金加大对科技创新债券及科技创新债券相关产品的配置。######    (九)降低科技创新债券交易结算成本。本所继续免收科技创新债券发行认购经手费、上市(挂牌)初费和年费、现券交易(转让)的交易经手费、回售交易经手费，并配合落实科技创新债券登记费、派息兑付手续费、赎回回售手续费和结算费免收工作。######    坚持科技创新导向，科技创新债券资金应当依法依规主要投向科技创新领域。本所将加强事中事后管理，督促发行人合规使用募集资金，压实中介机构对募集资金的监管职责，提升债券市场服务国家战略效能。######    本通知自发布之日起施行。本所相关业务规则对科技创新债券的规定与本通知不一致的，以本通知为准。######'
}

onMounted(() => {
  getArticleDetail()
})
</script>

<template>
<div class="news-detail">
  <div class="headLine">
    <img :src="logo" alt="logo" style="width: 100px;height: auto"/>
  </div>
  <div class="ctt">
    <div class="left"></div>
    <div class="center">
      <div style="text-align: center;margin-top: 30px;font-size: 25px;margin-bottom: 10px;font-weight: bolder">{{form.article.title}}</div>
      <div style="display: flex;flex-direction: row;align-items: center;justify-content: center;color: grey">
        <el-icon><Clock /></el-icon>
        <span style="margin-left: 5px">{{form.article.time}}</span>
      </div>
      <div style="text-align: center;margin-top: 30px;margin-bottom: 30px">
        <img :src="form.article.photo_url" alt="配图" style="width: 600px;height: auto;"/>
      </div>
      <div style="font-size: 18px">
        <div v-html="relContent"></div>
      </div>
    </div>
    <div class="right"></div>
  </div>
</div>
</template>

<style scoped>
.news-detail{
  height: 100vh;
  width: 100%;
}

.headLine{
  height: 10vh;
  background-color: #191a1f;
  display: flex;
  align-items: center;
  justify-content: center;
}

.ctt{
  height: 90vh;
  display: flex;
  flex-direction: row;
  background-image: linear-gradient(to right bottom, #f3dbe8, #efdbec, #eadbf0, #e4dcf4, #ddddf7, #d7e0fa, #d1e3fc, #cbe6fd, #c6ebfe, #c4f0fd, #c3f5fa, #c6f9f6);
}

.right {
  width: 300px;
}
.left{
  width: 300px;
}

.center{
  background-color: white;
  flex: 1;
  overflow-y: auto;
  max-height: 90vh;
  padding: 40px 40px 40px 40px;
}
</style>